# ğŸ“Š ANALISIS SISTEM - TripDoc Application

## ğŸ¯ Overview Aplikasi

**TripDoc** adalah aplikasi web untuk pembuatan dokumen **Formulir Permohonan Kendaraan Dinas Operasional** PT PLN (PERSERO) UIP3B SULAWESI UPT MANADO secara otomatis menggunakan template Word (.docx).

### Teknologi Stack:
- **Frontend**: Next.js 16.0.8 (React 19.2.1, TypeScript, Tailwind CSS 4)
- **Backend**: Flask (Python) dengan python-docx dan docxtpl
- **Alternative UI**: Streamlit (Python)

---

## ğŸ—ï¸ ARSITEKTUR SISTEM

### 1. Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT LAYER                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Browser (User)      â”‚         â”‚   Browser (User)      â”‚      â”‚
â”‚  â”‚   http://localhost:3000â”‚         â”‚   http://localhost:8501â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚             â”‚                                 â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                 â”‚
              â”‚ HTTP/AJAX                       â”‚ WebSocket
              â”‚                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   APPLICATION LAYER                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Next.js Frontend        â”‚   â”‚   Streamlit App         â”‚     â”‚
â”‚  â”‚   (React + TypeScript)    â”‚   â”‚   (app_streamlit.py)    â”‚     â”‚
â”‚  â”‚   Port: 3000              â”‚   â”‚   Port: 8501            â”‚     â”‚
â”‚  â”‚                           â”‚   â”‚                         â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚  - Form Input UI        â”‚     â”‚
â”‚  â”‚  â”‚  page.tsx        â”‚    â”‚   â”‚  - Direct Word Gen      â”‚     â”‚
â”‚  â”‚  â”‚  (Form UI)       â”‚    â”‚   â”‚  - File Download        â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”‚           â”‚               â”‚                                    â”‚
â”‚  â”‚           â”‚ POST /api/    â”‚                                    â”‚
â”‚  â”‚           â”‚ generate-doc  â”‚                                    â”‚
â”‚  â”‚           â–¼               â”‚                                    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                                    â”‚
â”‚  â”‚  â”‚  route.ts        â”‚    â”‚                                    â”‚
â”‚  â”‚  â”‚  (API Route)     â”‚â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚        â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                           â”‚
â”‚                                       â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚ HTTP POST
                                        â”‚ localhost:5000/generate-document
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND LAYER                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Flask Server (Python)                                      â”‚ â”‚
â”‚  â”‚   Port: 5000                                                 â”‚ â”‚
â”‚  â”‚   File: flask_server.py                                      â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚  â”‚   â”‚  Endpoint: /generate-document                     â”‚     â”‚ â”‚
â”‚  â”‚   â”‚  Method: POST                                     â”‚     â”‚ â”‚
â”‚  â”‚   â”‚                                                   â”‚     â”‚ â”‚
â”‚  â”‚   â”‚  1. Receive JSON data                            â”‚     â”‚ â”‚
â”‚  â”‚   â”‚  2. Format tanggal ke Indonesia                  â”‚     â”‚ â”‚
â”‚  â”‚   â”‚  3. Load Template_surat.docx                     â”‚     â”‚ â”‚
â”‚  â”‚   â”‚  4. Render context ke template (docxtpl)         â”‚     â”‚ â”‚
â”‚  â”‚   â”‚  5. Save to BytesIO stream                       â”‚     â”‚ â”‚
â”‚  â”‚   â”‚  6. Return file as attachment                    â”‚     â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â”‚ Read Template
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA/TEMPLATE LAYER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Template_surat.docx                                â”‚         â”‚
â”‚  â”‚  Location: Python_Backend/                          â”‚         â”‚
â”‚  â”‚                                                     â”‚         â”‚
â”‚  â”‚  Contains placeholders:                             â”‚         â”‚
â”‚  â”‚  - {{ nama_pemohon }}                               â”‚         â”‚
â”‚  â”‚  - {{ unit_kerja }}                                 â”‚         â”‚
â”‚  â”‚  - {{ jabatan }}                                    â”‚         â”‚
â”‚  â”‚  - {{ jenis_kendaraan }}                            â”‚         â”‚
â”‚  â”‚  - {{ tempat_tujuan }}                              â”‚         â”‚
â”‚  â”‚  - {{ keperluan }}                                  â”‚         â”‚
â”‚  â”‚  - {{ tgl_mulai_req }}, {{ jam_mulai_req }}        â”‚         â”‚
â”‚  â”‚  - {{ nama_pengemudi }}, {{ nomor_polisi }}        â”‚         â”‚
â”‚  â”‚  - {{ km_awal }}, {{ km_akhir }}                   â”‚         â”‚
â”‚  â”‚  - {{ log_berangkat_tgl }}, {{ log_kembali_tgl }}  â”‚         â”‚
â”‚  â”‚  - dan lainnya...                                   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ CLASS DIAGRAM (Component Structure)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend (Next.js)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component: PermohonanKendaraanForm                           â”‚
â”‚  File: page.tsx                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  State Variables:                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚  - namaPemohon: string                                       â”‚
â”‚  - unitKerja: string                                         â”‚
â”‚  - jabatan: string                                           â”‚
â”‚  - jenisKendaraan: string                                    â”‚
â”‚  - tempatTujuan: string                                      â”‚
â”‚  - keperluan: string                                         â”‚
â”‚  - jumlahPenumpang: number | string                          â”‚
â”‚  - tglMulai: string                                          â”‚
â”‚  - jamMulai: string                                          â”‚
â”‚  - tglSelesai: string                                        â”‚
â”‚  - jamSelesai: string                                        â”‚
â”‚  - namaPengemudi: string                                     â”‚
â”‚  - nomorPolisi: string                                       â”‚
â”‚  - kmAwal: number | string                                   â”‚
â”‚  - kmAkhir: number | string                                  â”‚
â”‚  - logBerangkatTgl: string                                   â”‚
â”‚  - logBerangkatJam: string                                   â”‚
â”‚  - logKembaliTgl: string                                     â”‚
â”‚  - logKembaliJam: string                                     â”‚
â”‚  - lamaPenggunaan: string                                    â”‚
â”‚  - loading: boolean                                          â”‚
â”‚  - status: 'idle' | 'loading' | 'success' | 'error'          â”‚
â”‚  - message: string                                           â”‚
â”‚                                                              â”‚
â”‚  Constants:                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚  - JABATAN_OPTIONS: string[]                                 â”‚
â”‚  - JENIS_KENDARAAN_OPTIONS: string[]                         â”‚
â”‚                                                              â”‚
â”‚  Methods:                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚  + handleSubmit(e: FormEvent): Promise<void>                 â”‚
â”‚  + getStatusStyle(): string                                  â”‚
â”‚  + render(): JSX.Element                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ calls
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Route: /api/generate-doc                                â”‚
â”‚  File: route.ts                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Methods:                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚  + POST(request: Request): Promise<Response>                 â”‚
â”‚                                                              â”‚
â”‚  Workflow:                                                   â”‚
â”‚  1. Parse JSON body dari request                             â”‚
â”‚  2. Forward data ke Flask backend                            â”‚
â”‚  3. Receive binary data (DOCX file)                          â”‚
â”‚  4. Set proper headers (Content-Type, Content-Disposition)   â”‚
â”‚  5. Return Response dengan file binary                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTP POST
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Backend (Flask)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flask App                                                   â”‚
â”‚  File: flask_server.py                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Global Objects:                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚  - app: Flask                                                â”‚
â”‚  - CORS: Enabled for all origins                             â”‚
â”‚                                                              â”‚
â”‚  Helper Functions:                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  + format_tanggal_indo(date_str: str): str                   â”‚
â”‚    â€¢ Parse YYYY-MM-DD format                                 â”‚
â”‚    â€¢ Return DD Month(Indonesia) YYYY                         â”‚
â”‚                                                              â”‚
â”‚  Route Handlers:                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚  + @app.route('/generate-document', methods=['POST'])        â”‚
â”‚    generate_document(): Response                             â”‚
â”‚    â€¢ Receive JSON request                                    â”‚
â”‚    â€¢ Load template DOCX                                      â”‚
â”‚    â€¢ Create context dict                                     â”‚
â”‚    â€¢ Render template with docxtpl                            â”‚
â”‚    â€¢ Save to BytesIO                                         â”‚
â”‚    â€¢ Return file as attachment                               â”‚
â”‚                                                              â”‚
â”‚  Template Processing:                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚  + DocxTemplate: Renders placeholders with data              â”‚
â”‚  + Template Path: {script_dir}/Template_surat.docx           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Transfer Object (DTO)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Interface: FormSubmissionData                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                â”‚
â”‚  {                                                           â”‚
â”‚    nama_pemohon: string                                      â”‚
â”‚    unit_kerja: string                                        â”‚
â”‚    jabatan: string                                           â”‚
â”‚    jenis_kendaraan: string                                   â”‚
â”‚    tempat_tujuan: string                                     â”‚
â”‚    keperluan: string                                         â”‚
â”‚    jumlah_penumpang: number | string                         â”‚
â”‚    tgl_mulai_req: string (YYYY-MM-DD)                        â”‚
â”‚    jam_mulai_req: string (HH:mm)                             â”‚
â”‚    tgl_selesai_req: string (YYYY-MM-DD)                      â”‚
â”‚    jam_selesai_req: string (HH:mm)                           â”‚
â”‚    nama_pengemudi: string                                    â”‚
â”‚    nomor_polisi: string                                      â”‚
â”‚    km_awal: number | string                                  â”‚
â”‚    km_akhir: number | string                                 â”‚
â”‚    log_berangkat_tgl: string                                 â”‚
â”‚    log_berangkat_jam: string                                 â”‚
â”‚    log_kembali_tgl: string                                   â”‚
â”‚    log_kembali_jam: string                                   â”‚
â”‚    lama_penggunaan: string                                   â”‚
â”‚  }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ SEQUENCE DIAGRAM - Document Generation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User   â”‚    â”‚Browser â”‚    â”‚Next.js â”‚    â”‚ Flask  â”‚    â”‚Templateâ”‚
â”‚        â”‚    â”‚        â”‚    â”‚API Routeâ”‚   â”‚Backend â”‚    â”‚ .docx  â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚ Fill Form   â”‚              â”‚             â”‚             â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚ Click Submitâ”‚              â”‚             â”‚             â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚ POST /api/   â”‚             â”‚             â”‚
    â”‚             â”‚ generate-doc â”‚             â”‚             â”‚
    â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚ POST /generate-document   â”‚
    â”‚             â”‚              â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚             â”‚
    â”‚             â”‚              â”‚   (JSON)    â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚ Load Templateâ”‚
    â”‚             â”‚              â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚             â”‚              â”‚             â”‚ Template OK â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚ Format Datesâ”‚
    â”‚             â”‚              â”‚             â”‚â”€â”€â”€â”€â”€â”€â”      â”‚
    â”‚             â”‚              â”‚             â”‚      â”‚      â”‚
    â”‚             â”‚              â”‚             â”‚<â”€â”€â”€â”€â”€â”˜      â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚ Create Contextâ”‚
    â”‚             â”‚              â”‚             â”‚â”€â”€â”€â”€â”€â”€â”      â”‚
    â”‚             â”‚              â”‚             â”‚      â”‚      â”‚
    â”‚             â”‚              â”‚             â”‚<â”€â”€â”€â”€â”€â”˜      â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚ Render Templateâ”‚
    â”‚             â”‚              â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚             â”‚              â”‚             â”‚ Rendered Docâ”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚ Save to BytesIOâ”‚
    â”‚             â”‚              â”‚             â”‚â”€â”€â”€â”€â”€â”€â”      â”‚
    â”‚             â”‚              â”‚             â”‚      â”‚      â”‚
    â”‚             â”‚              â”‚             â”‚<â”€â”€â”€â”€â”€â”˜      â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚
    â”‚             â”‚              â”‚ Binary Data â”‚             â”‚
    â”‚             â”‚              â”‚ (.docx file)â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚             â”‚
    â”‚             â”‚ Response     â”‚             â”‚             â”‚
    â”‚             â”‚ (File DOCX)  â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚              â”‚             â”‚             â”‚
    â”‚ Download    â”‚              â”‚             â”‚             â”‚
    â”‚ File        â”‚              â”‚             â”‚             â”‚
    â”‚             â”‚              â”‚             â”‚             â”‚
```

---

## ğŸ—‚ï¸ USE CASE DIAGRAM

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   TripDoc Application       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Use Case 1:     â”‚  â”‚  Use Case 2:     â”‚  â”‚  Use Case 3:     â”‚
â”‚  Isi Formulir    â”‚  â”‚  Generate        â”‚  â”‚  Download        â”‚
â”‚  Permohonan      â”‚  â”‚  Dokumen Word    â”‚  â”‚  Dokumen         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚                       â”‚                       â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚         â”‚             â”‚         â”‚             â”‚         â”‚
    â”‚ Pemohon â”‚             â”‚ System  â”‚             â”‚ Pemohon â”‚
    â”‚         â”‚             â”‚         â”‚             â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Actor: Pemohon (User)                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Primary Use Cases:                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â”‚
â”‚  1. Isi Data Permohonan Kendaraan                              â”‚
â”‚     - Input nama, unit kerja, jabatan                          â”‚
â”‚     - Pilih jenis kendaraan                                    â”‚
â”‚     - Tentukan tujuan dan keperluan                            â”‚
â”‚     - Tentukan waktu mulai dan selesai                         â”‚
â”‚                                                                â”‚
â”‚  2. Isi Data Logistik (Optional)                               â”‚
â”‚     - Input nama pengemudi                                     â”‚
â”‚     - Input nomor polisi                                       â”‚
â”‚     - Input KM awal/akhir                                      â”‚
â”‚     - Input waktu berangkat/kembali                            â”‚
â”‚                                                                â”‚
â”‚  3. Submit & Generate Dokumen                                  â”‚
â”‚     - Klik tombol submit                                       â”‚
â”‚     - Sistem generate dokumen Word                             â”‚
â”‚     - Download file hasil                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Actor: System                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  System Use Cases:                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â”‚
â”‚  1. Validasi Input Form                                        â”‚
â”‚     - Check required fields                                    â”‚
â”‚     - Validate data format                                     â”‚
â”‚                                                                â”‚
â”‚  2. Process Document Generation                                â”‚
â”‚     - Load template Word                                       â”‚
â”‚     - Format tanggal ke bahasa Indonesia                       â”‚
â”‚     - Inject data ke template                                  â”‚
â”‚     - Generate final DOCX file                                 â”‚
â”‚                                                                â”‚
â”‚  3. Return Document to User                                    â”‚
â”‚     - Set proper HTTP headers                                  â”‚
â”‚     - Stream file binary data                                  â”‚
â”‚     - Trigger browser download                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š DATA FLOW DIAGRAM

```
Level 0: Context Diagram
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚             â”‚
         â”‚   Pemohon   â”‚
         â”‚   (User)    â”‚
         â”‚             â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Data Permohonan
                â”‚ (Form Input)
                â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚
       â”‚   TripDoc System   â”‚
       â”‚                    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Dokumen Word
                â”‚ (.docx file)
                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚             â”‚
         â”‚   Pemohon   â”‚
         â”‚             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Level 1: Main Process Breakdown
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Pemohon    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Input Form Data
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Process 1.0:              â”‚
â”‚  Collect Form Input        â”‚
â”‚  (React Frontend)          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. Validated Form Data (JSON)
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Process 2.0:              â”‚
â”‚  API Routing               â”‚
â”‚  (Next.js API Route)       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. Forward Request to Backend
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Process 3.0:              â”‚
â”‚  Generate Document         â”‚
â”‚  (Flask Backend)           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3.1: Load Template
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                               â”‚
       â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  D1: Template  â”‚          â”‚  Process 3.1:    â”‚
â”‚  Word File     â”‚          â”‚  Format Data     â”‚
â”‚  (Template_    â”‚          â”‚  - Date to ID    â”‚
â”‚   surat.docx)  â”‚          â”‚  - Create Contextâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                             â”‚
         â”‚ 3.2: Template Content       â”‚ 3.3: Formatted Context
         â”‚                             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Process 3.4:             â”‚
         â”‚  Render Template          â”‚
         â”‚  (docxtpl library)        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ 4. Generated Document (Binary)
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Process 4.0:              â”‚
         â”‚  Stream Response           â”‚
         â”‚  (Next.js to Browser)      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ 5. Download File
                    â”‚
                    â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Pemohon    â”‚
              â”‚   (Browser)  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ STATE DIAGRAM - Form Status

```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Initial State   â”‚
        â”‚                  â”‚
        â”‚   status: 'idle'  â”‚
        â”‚   loading: false  â”‚
        â”‚   message: ''     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ User clicks Submit
                 â”‚
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Loading State       â”‚
        â”‚                       â”‚
        â”‚   status: 'loading'   â”‚
        â”‚   loading: true       â”‚
        â”‚   message: 'Processing'â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
        â”‚ Success?        â”‚
        â”‚                 â”‚
    â”Œâ”€â”€â”€â”´â”€â”€â”€â”         â”Œâ”€â”€â”€â”´â”€â”€â”€â”
    â”‚  YES  â”‚         â”‚  NO   â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”˜         â””â”€â”€â”€â”¬â”€â”€â”€â”˜
        â”‚                 â”‚
        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Success State    â”‚  â”‚  Error State      â”‚
â”‚                   â”‚  â”‚                   â”‚
â”‚  status: 'success'â”‚  â”‚  status: 'error'  â”‚
â”‚  loading: false   â”‚  â”‚  loading: false   â”‚
â”‚  message: 'âœ…...' â”‚  â”‚  message: 'âŒ...' â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                      â”‚
           â”‚                      â”‚
           â”‚  User submits again  â”‚
           â”‚                      â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚   Loading State   â”‚
             â”‚   (Reset)         â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” SECURITY & VALIDATION

### Input Validation:
```
Frontend (page.tsx):
â”œâ”€â”€ HTML5 Validation
â”‚   â”œâ”€â”€ required attributes
â”‚   â”œâ”€â”€ type="date", type="time", type="number"
â”‚   â””â”€â”€ min/max for numbers
â”‚
â””â”€â”€ Client-side Validation
    â””â”€â”€ Form submission prevented if invalid

Backend (flask_server.py):
â”œâ”€â”€ data.get() with default values
â”œâ”€â”€ Try-catch error handling
â””â”€â”€ Template existence check
```

### CORS Configuration:
```
Flask Backend:
â””â”€â”€ CORS(app) - Allows all origins
    âš ï¸ Production: Should restrict to specific domain
```

---

## ğŸ“ˆ PERFORMANCE CONSIDERATIONS

### Optimizations:
1. **Template Caching**: Template loaded fresh each request (could cache)
2. **Memory Stream**: Uses BytesIO instead of temp files
3. **Turbopack**: Next.js uses Turbopack for faster builds
4. **React 19**: Latest React with improved performance

### Bottlenecks:
- Flask runs in debug mode (single-threaded)
- Template loaded on every request
- No caching mechanism

---

## ğŸš€ DEPLOYMENT ARCHITECTURE

### Development:
```
Local Machine:
â”œâ”€â”€ Next.js Dev Server: localhost:3000
â”œâ”€â”€ Flask Dev Server: localhost:5000
â””â”€â”€ Streamlit: localhost:8501
```

### Production Recommendation:
```
Cloud Infrastructure:
â”œâ”€â”€ Frontend: Vercel/Netlify (Next.js)
â”œâ”€â”€ Backend: AWS Lambda / Azure Functions (Flask)
â”œâ”€â”€ Template Storage: S3 / Azure Blob Storage
â””â”€â”€ Load Balancer + CDN
```

---

## ğŸ“‹ TECHNOLOGY SUMMARY

| Layer | Technology | Version | Purpose |
|-------|------------|---------|---------|
| Frontend Framework | Next.js | 16.0.8 | React framework with SSR |
| UI Library | React | 19.2.1 | Component-based UI |
| Language | TypeScript | 5.x | Type-safe JavaScript |
| Styling | Tailwind CSS | 4.x | Utility-first CSS |
| Icons | Lucide React | 0.559.0 | Icon library |
| HTTP Client | Axios | 1.13.2 | API requests |
| Backend Framework | Flask | Latest | Python web framework |
| CORS | Flask-CORS | Latest | Cross-origin support |
| Document Gen | python-docx | Latest | Word manipulation |
| Template Engine | docxtpl | Latest | Template rendering |
| Alt UI | Streamlit | Latest | Quick prototyping |

---

## ğŸ“ FILE STRUCTURE

```
TripDoc/
â”œâ”€â”€ document-generator-app/           # Main Next.js App
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ app/
â”‚   â”‚       â”œâ”€â”€ page.tsx              # Main form component
â”‚   â”‚       â”œâ”€â”€ layout.tsx            # Root layout
â”‚   â”‚       â”œâ”€â”€ globals.css           # Global styles
â”‚   â”‚       â””â”€â”€ api/
â”‚   â”‚           â””â”€â”€ generate-doc/
â”‚   â”‚               â””â”€â”€ route.ts      # API proxy to Flask
â”‚   â”œâ”€â”€ Python_Backend/
â”‚   â”‚   â”œâ”€â”€ flask_server.py           # Flask backend server
â”‚   â”‚   â””â”€â”€ Template_surat.docx       # Word template
â”‚   â”œâ”€â”€ package.json                  # NPM dependencies
â”‚   â”œâ”€â”€ tsconfig.json                 # TypeScript config
â”‚   â”œâ”€â”€ next.config.ts                # Next.js config
â”‚   â””â”€â”€ tailwind.config.ts            # Tailwind config
â”‚
â””â”€â”€ app_streamlit.py                  # Alternative Streamlit UI
```

---

## ğŸ¯ KEY FEATURES

1. âœ… **Form Validation** - HTML5 + React state management
2. âœ… **Real-time Status** - Loading, success, error states
3. âœ… **Date Formatting** - Auto convert to Indonesian format
4. âœ… **Template Rendering** - Dynamic Word document generation
5. âœ… **File Download** - Automatic browser download
6. âœ… **Responsive Design** - Mobile-friendly UI
7. âœ… **Dark Theme** - Modern dark mode interface
8. âœ… **Error Handling** - Comprehensive error messages

---

## ğŸ”„ IMPROVEMENT RECOMMENDATIONS

### Short-term:
1. Add input field validation messages
2. Implement form data persistence (localStorage)
3. Add loading progress indicator
4. Implement file preview before download

### Long-term:
1. Add user authentication
2. Implement database for form history
3. Add email notification feature
4. Create admin dashboard
5. Add multi-language support
6. Implement PDF export option
7. Add digital signature feature
8. Deploy to cloud platform

---

**Analyst**: GitHub Copilot AI Assistant  
**Date**: December 11, 2025  
**Version**: 1.0
